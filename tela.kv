MeuGerenciador:
    TelaInicio:
    GerarServico:
    TelaValorCobrado:
    TelaServicosAtivos:
    TelaDescricaoServicoAtivo:
    TelaCalendario:
    TelaEditarServico:

<TelaInicio>:
    canvas.before:
        Color:
            rgba: 1, 1, 1, 1
        Rectangle:
            pos: self.pos
            size: self.size
    name: 'tela_inicio'
    FloatLayout:
        Label:
            id: faturamento_mes
            text: ''
            size_hint: None, None
            color: 0, 0, 0, 1
            pos_hint: {'center_x': 0.5, 'y': 0.90}
        Button:
            text: 'GERAR SERVI√áO'
            size_hint: 0.8, 0.08
            font_size: '18sp'
            pos_hint: {'center_x': 0.5, 'y': 0.60}
            on_release: root.manager.current = 'gerar_servico'
        Button:
            text: 'SERVI√áOS ATIVOS'
            size_hint: 0.8, 0.08
            font_size: '18sp'
            pos_hint: {'center_x': 0.5, 'y': 0.50}
            on_release: root.manager.current = 'tela_servicos_ativos'
        Button:
            text: 'SERVI√áOS FINALIZADOS'
            size_hint: 0.8, 0.08
            font_size: '18sp'
            pos_hint: {'center_x': 0.5, 'y': 0.40}
        Button:
            text: 'PAGAMENTOS PENDENTES'
            size_hint: 0.8, 0.08
            font_size: '18sp'
            pos_hint: {'center_x': 0.5, 'y': 0.30}
        Button:
            text: 'SAIR'
            size_hint: 0.3, 0.08
            font_size: '18sp'
            background_color: 1, 0, 0, 1
            pos_hint: {'center_x': 0.5, 'y': 0.15}
            on_release: app.fechar_aplicativo()

<GerarServico>:
    name: 'gerar_servico'
    MDScreen:
        MDBoxLayout:
            id: widgets_gerar_servico
            orientation: "vertical"
            MDTopAppBar:
                title: "CADASTRAR SERVI√áO"
                left_action_items: [["arrow-left", lambda x: setattr(app.root, "current", "tela_inicio")]]
                size_hint_y: None
                height: "56dp"
            ScrollView:
                MDBoxLayout:
                    orientation: "vertical"
                    spacing: "15dp"
                    padding: "20dp"
                    size_hint_y: None
                    height: self.minimum_height
                    Spinner:
                        id: tipo
                        text: "SELECIONE O TIPO"
                        values: ["MENSAL", "DI√ÅRIA"]
                        size_hint_y: None
                        height: "48dp"
                    TextInput:
                        id: descricao
                        hint_text: 'DESCRI√á√ÉO'
                        size_hint_y: None
                        height: "48dp"
                        font_size: '18sp'
                    TextInput:
                        id: data_servico
                        hint_text: 'DATA (DD/MM/AAAA)'
                        multiline: False
                        readonly: True
                        size_hint_y: None
                        height: "48dp"
                        font_size: '18sp'
                        on_touch_down:
                            if self.collide_point(*args[1].pos): root.manager.current = 'tela_calendario'
                    TextInput:
                        id: nome_cliente
                        hint_text: 'NOME DO CLIENTE'
                        multiline: False
                        size_hint_y: None
                        height: "48dp"
                        font_size: '18sp'
                    TextInput:
                        id: numero_contato
                        hint_text: 'N√öMERO PARA CONTATO'
                        multiline: False
                        size_hint_y: None
                        height: "48dp"
                        font_size: '18sp'
                        input_filter: 'int'
                        input_type: 'number'
                    TextInput:
                        id: endereco
                        hint_text: 'ENDERE√áO'
                        multiline: True
                        size_hint_y: None
                        height: "80dp"
                        font_size: '18sp'
                    TextInput:
                        id: valor_cobrado
                        hint_text: 'INSIRA O VALOR'
                        multiline: False
                        readonly: True
                        size_hint_y: None
                        height: "48dp"
                        font_size: '18sp'
                        on_touch_down:
                            if self.collide_point(*args[1].pos): root.manager.current = 'valor_servico'
                    MDLabel:
                        text: "J√Å FOI PAGO?"
                    MDSwitch:
                        id: pago_switch
                        active: False
                        width: "60dp"
                    MDRaisedButton:
                        text: "CONFIRMAR"
                        size_hint_y: None
                        height: "48dp"
                        on_release: root.confirmar_servico()

<TelaCalendario>:
    name: 'tela_calendario'
    RelativeLayout:
        id: box_data
        size_hint: 1, 1

<TelaValorCobrado>:
    name: 'valor_servico'
    canvas.before:
        Color:
            rgba: 1, 1, 1, 1
        Rectangle:
            pos: self.pos
            size: self.size
    BoxLayout:
        orientation: 'vertical'
        padding: dp(16)
        spacing: dp(12)
        # üîπ DISPLAY DO VALOR
        Label:
            id: valor_display
            text: "R$ 0,00"
            font_size: "36sp"
            bold: True
            color: 0, 0, 0, 1
            size_hint_y: None
            height: dp(80)
        # üîπ TECLADO NUM√âRICO
        GridLayout:
            cols: 3
            spacing: dp(8)
            size_hint_y: None
            height: dp(300)
            Button:
                text: "1"
                background_normal: ''
                background_color: (0.0, 0.55, 0.8, 1)
                on_release: root.adicionar_digito(1)
            Button:
                text: "2"
                background_normal: ''
                background_color: (0.0, 0.55, 0.8, 1)
                on_release: root.adicionar_digito(2)
            Button:
                text: "3"
                background_normal: ''
                background_color: (0.0, 0.55, 0.8, 1)
                on_release: root.adicionar_digito(3)
            Button:
                text: "4"
                background_normal: ''
                background_color: (0.0, 0.55, 0.8, 1)
                on_release: root.adicionar_digito(4)
            Button:
                text: "5"
                background_normal: ''
                background_color: (0.0, 0.55, 0.8, 1)
                on_release: root.adicionar_digito(5)
            Button:
                text: "6"
                background_normal: ''
                background_color: (0.0, 0.55, 0.8, 1)
                on_release: root.adicionar_digito(6)
            Button:
                text: "7"
                background_normal: ''
                background_color: (0.0, 0.55, 0.8, 1)
                on_release: root.adicionar_digito(7)
            Button:
                text: "8"
                background_normal: ''
                background_color: (0.0, 0.55, 0.8, 1)
                on_release: root.adicionar_digito(8)
            Button:
                text: "9"
                background_normal: ''
                background_color: (0.0, 0.55, 0.8, 1)
                on_release: root.adicionar_digito(9)
            Button:
                text: "LIMPAR"
                background_normal: ''
                background_color: (1, 0.75, 0.2, 1)
                on_release: root.limpar_valor()
            Button:
                text: "0"
                background_normal: ''
                background_color: (0.0, 0.55, 0.8, 1)
                on_release: root.adicionar_digito(0)
            Button:
                text: "<<<"
                font_size: "32sp"
                background_normal: ""
                background_color: (0.95, 0.75, 0.25, 1)
                on_release: root.apagar_digito()
        GridLayout:
            cols: 2
            spacing: dp(4)
            size_hint_y: None
            height: dp(50)
            Button:
                text: "CANCELAR"
                background_color: 1, 0, 0, 1
                on_release: root.manager.current = 'gerar_servico'
            Button:
                text: "CONFIRMAR"
                background_color: 0, 1, 0, 1
                on_release: root.salvar_valor()

<TelaServicosAtivos>:
    name: "tela_servicos_ativos"
    MDBoxLayout:
        orientation: "vertical"
        MDTopAppBar:
            title: "SERVI√áOS ATIVOS"
            left_action_items: [["arrow-left", lambda x: setattr(app.root, "current", "tela_inicio")]]
        ScrollView:
            MDList:
                id: lista_servicos

<TelaDescricaoServicoAtivo>:
    name: "tela_descricao_servicos_ativos"
    MDBoxLayout:
        orientation: "vertical"
        MDTopAppBar:
            title: "DESCRI√á√ÉO DO SERVI√áO"
            left_action_items: [["arrow-left", lambda x: setattr(app.root, "current", "tela_servicos_ativos")]]
            size_hint_y: None
            height: "56dp"
        # √Årea do conte√∫do com rolagem
        ScrollView:
            MDBoxLayout:
                orientation: "vertical"
                padding: "20dp"
                spacing: "10dp"
                size_hint_y: None
                height: self.minimum_height
                MDLabel:
                    id: label_descricao_servicos_ativos
                    text: root.id_ordem
                    halign: "center"
                    theme_text_color: "Custom"
                    text_color: 0, 0, 0, 1
                    font_style: "Body1"
                    size_hint_y: None
                    text_size: self.width - 20, None
                    height: self.texture_size[1]
        MDBoxLayout:
            orientation: "vertical"
            size_hint_y: None
            height: "220dp"
            spacing: "15dp"
            padding: "10dp"
            MDRaisedButton:
                text: "CONCLUIR SERVI√áO"
                md_bg_color: 0, 0.5, 0, 1
                size_hint: 0.8, None
                height: "50dp"
                pos_hint: {"center_x": 0.5}
                on_release: root.cancelar_servico()
            MDRaisedButton:
                text: "EDITAR SERVI√áO"
                md_bg_color: 0.6, 0.6, 0, 1
                size_hint: 0.8, None
                height: "50dp"
                pos_hint: {"center_x": 0.5}
                on_release: root.editar_servico()
            MDRaisedButton:
                text: "CANCELAR SERVI√áO"
                md_bg_color: 1, 0, 0, 1
                size_hint: 0.8, None
                height: "50dp"
                pos_hint: {"center_x": 0.5}
                on_release: root.cancelar_servico()

<TelaEditarServico>:
    name: 'editar_servico'
    MDScreen:
        MDBoxLayout:
            id: widgets_gerar_servico
            orientation: "vertical"
            MDTopAppBar:
                title: "EDITAR SERVI√áO"
                left_action_items: [["arrow-left", lambda x: setattr(app.root, "current", "tela_descricao_servicos_ativos")]]
                size_hint_y: None
                height: "56dp"
            ScrollView:
                MDBoxLayout:
                    orientation: "vertical"
                    spacing: "15dp"
                    padding: "20dp"
                    size_hint_y: None
                    height: self.minimum_height
                    Spinner:
                        id: tipo
                        text: "SELECIONE O TIPO"
                        values: ["MENSAL", "DI√ÅRIA"]
                        size_hint_y: None
                        height: "48dp"
                    TextInput:
                        id: descricao
                        hint_text: 'DESCRI√á√ÉO'
                        size_hint_y: None
                        height: "80dp"
                        font_size: '18sp'
                    TextInput:
                        id: data_servico
                        hint_text: 'DATA (DD/MM/AAAA)'
                        multiline: False
                        readonly: True
                        size_hint_y: None
                        height: "48dp"
                        font_size: '18sp'
                        on_touch_down:
                            if self.collide_point(*args[1].pos): root.manager.current = 'tela_calendario'
                    TextInput:
                        id: nome_cliente
                        hint_text: 'NOME DO CLIENTE'
                        multiline: False
                        size_hint_y: None
                        height: "48dp"
                        font_size: '18sp'
                    TextInput:
                        id: numero_contato
                        hint_text: 'N√öMERO PARA CONTATO'
                        multiline: False
                        size_hint_y: None
                        height: "48dp"
                        font_size: '18sp'
                        input_filter: 'int'
                        input_type: 'number'
                    TextInput:
                        id: endereco
                        hint_text: 'ENDERE√áO'
                        multiline: True
                        size_hint_y: None
                        height: "80dp"
                        font_size: '18sp'
                    TextInput:
                        id: valor_cobrado
                        hint_text: 'INSIRA O VALOR'
                        multiline: False
                        readonly: True
                        size_hint_y: None
                        height: "48dp"
                        font_size: '18sp'
                        on_touch_down:
                            if self.collide_point(*args[1].pos): root.manager.current = 'valor_servico'
                    MDLabel:
                        text: "J√Å FOI PAGO?"
                    MDSwitch:
                        id: pago_switch
                        active: False
                        width: "60dp"
                    MDRaisedButton:
                        text: "CONFIRMAR"
                        size_hint_y: None
                        height: "48dp"
                        on_release: root.salvar_alteracoes()