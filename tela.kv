MeuGerenciador:
    TelaInicio:
    GerarServico:
    TelaValorCobrado:
    TelaServicos:

<TelaInicio>:
    canvas.before:
        Color:
            rgba: 1, 1, 1, 1
        Rectangle:
            pos: self.pos
            size: self.size
    name: 'tela_inicio'
    FloatLayout:
        Button:
            text: 'GERAR SERVI√áO'
            size_hint: 0.8, 0.08
            font_size: '18sp'
            pos_hint: {'center_x': 0.5, 'y': 0.60}
            on_release: root.manager.current = 'gerar_servico'
        Button:
            text: 'SERVI√áOS ATIVOS'
            size_hint: 0.8, 0.08
            font_size: '18sp'
            pos_hint: {'center_x': 0.5, 'y': 0.50}
            on_release: root.manager.current = 'tela_servicos'
        Button:
            text: 'SERVI√áOS FINALIZADOS'
            size_hint: 0.8, 0.08
            font_size: '18sp'
            pos_hint: {'center_x': 0.5, 'y': 0.40}
        Button:
            text: 'PAGAMENTOS PENDENTES'
            size_hint: 0.8, 0.08
            font_size: '18sp'
            pos_hint: {'center_x': 0.5, 'y': 0.30}
        Button:
            text: 'SAIR'
            size_hint: 0.3, 0.08
            font_size: '18sp'
            background_color: 1, 0, 0, 1
            pos_hint: {'center_x': 0.5, 'y': 0.15}
            on_release: app.fechar_aplicativo()

<GerarServico>:
    canvas.before:
        Color:
            rgba: 1, 1, 1, 1
        Rectangle:
            pos: self.pos
            size: self.size
    name: 'gerar_servico'
    FloatLayout:
        id: widgets_gerar_servico
        Label:
            id: letreiro_gerar_servico
            text: 'CADASTRO DE SERVI√áO'
            size_hint: None, None
            color: 0, 0, 0, 1
            pos_hint: {'center_x': 0.5, 'y': 0.95}
        Spinner:
            id: tipo
            text: "SELECIONE O TIPO"
            values: ["MENSAL", "DI√ÅRIA"]
            size_hint: 0.5, None
            height: 100
            pos_hint: {'center_x': 0.5, 'y': 0.88}
        TextInput:
            id: descricao
            hint_text: 'DESCRI√á√ÉO'
            size_hint: 0.6, 0.10
            font_size: '18sp'
            pos_hint: {'center_x': 0.5, 'y': 0.75}
        TextInput:
            id: data_servico
            hint_text: 'DATA (DD/MM/AAAA)'
            multiline: False
            readonly: True
            size_hint: 0.6, 0.06
            font_size: '18sp'
            pos_hint: {'center_x': 0.5, 'y': 0.65}
            on_touch_down: if self.collide_point(*args[1].pos): root.abrir_calendario()
        TextInput:
            id: nome_cliente
            hint_text: 'NOME DO CLIENTE'
            multiline: False
            size_hint: 0.6, 0.06
            font_size: '18sp'
            pos_hint: {'center_x': 0.5, 'y': 0.55}
        TextInput:
            id: numero_contato
            hint_text: 'N√öMERO PARA CONTATO'
            multiline: False
            size_hint: 0.6, 0.06
            font_size: '18sp'
            pos_hint: {'center_x': 0.5, 'y': 0.45}
            input_filter: 'int'
            input_type: 'number'
            on_text: if not self.text.isdigit(): self.text = ''.join(filter(str.isdigit, self.text))
        TextInput:
            id: endereco
            hint_text: 'ENDERE√áO'
            multiline: True
            size_hint: 0.6, 0.06
            font_size: '18sp'
            pos_hint: {'center_x': 0.5, 'y': 0.35}
        TextInput:
            id: valor_cobrado
            hint_text: 'INSIRA O VALOR'
            multiline: False
            readonly: True
            size_hint: 0.6, 0.06
            font_size: '18sp'
            pos_hint: {'center_x': 0.5, 'y': 0.25}
            on_touch_down: if self.collide_point(*args[1].pos): root.manager.current = 'valor_servico'
        Label:
            text: 'J√Å FOI PAGO?'
            size_hint: None, None
            color: 0, 0, 0, 1
            pos_hint: {'center_x': 0.4, 'y': 0.15}
        MDSwitch:
            id: pago_switch
            active: False
            pos_hint: {'center_x': 0.6, 'y': 0.15}
        Button:
            text: 'CONFIRMAR'
            background_color: 0, 1, 0, 1
            size_hint: 0.3, 0.08
            font_size: '18sp'
            pos_hint: {'center_x': 0.7, 'y': 0.05}
            on_release: root.confirmar_servico()
        Button:
            text: 'VOLTAR'
            background_color: 1, 0, 0, 1
            size_hint: 0.3, 0.08
            font_size: '18sp'
            pos_hint: {'center_x': 0.3, 'y': 0.05}
            on_release: root.manager.current = 'tela_inicio'
    RelativeLayout
    	BoxLayout:
        	id: box_data
        	size_hint: 1, 1
        	pos: self.parent.pos

<TelaValorCobrado>:
    name: 'valor_servico'
    canvas.before:
        Color:
            rgba: 1, 1, 1, 1
        Rectangle:
            pos: self.pos
            size: self.size
    BoxLayout:
        orientation: 'vertical'
        padding: dp(16)
        spacing: dp(12)
        # üîπ DISPLAY DO VALOR
        Label:
            id: valor_display
            text: "R$ 0,00"
            font_size: "36sp"
            bold: True
            color: 0, 0, 0, 1
            size_hint_y: None
            height: dp(80)
        # üîπ TECLADO NUM√âRICO
        GridLayout:
            cols: 3
            spacing: dp(8)
            size_hint_y: None
            height: dp(300)
            Button:
                text: "1"
                background_normal: ''
                background_color: (0.0, 0.55, 0.8, 1)
                on_release: root.adicionar_digito(1)
            Button:
                text: "2"
                background_normal: ''
                background_color: (0.0, 0.55, 0.8, 1)
                on_release: root.adicionar_digito(2)
            Button:
                text: "3"
                background_normal: ''
                background_color: (0.0, 0.55, 0.8, 1)
                on_release: root.adicionar_digito(3)
            Button:
                text: "4"
                background_normal: ''
                background_color: (0.0, 0.55, 0.8, 1)
                on_release: root.adicionar_digito(4)
            Button:
                text: "5"
                background_normal: ''
                background_color: (0.0, 0.55, 0.8, 1)
                on_release: root.adicionar_digito(5)
            Button:
                text: "6"
                background_normal: ''
                background_color: (0.0, 0.55, 0.8, 1)
                on_release: root.adicionar_digito(6)
            Button:
                text: "7"
                background_normal: ''
                background_color: (0.0, 0.55, 0.8, 1)
                on_release: root.adicionar_digito(7)
            Button:
                text: "8"
                background_normal: ''
                background_color: (0.0, 0.55, 0.8, 1)
                on_release: root.adicionar_digito(8)
            Button:
                text: "9"
                background_normal: ''
                background_color: (0.0, 0.55, 0.8, 1)
                on_release: root.adicionar_digito(9)
            Button:
                text: "LIMPAR"
                background_normal: ''
                background_color: (1, 0.75, 0.2, 1)
                on_release: root.limpar_valor()
            Button:
                text: "0"
                background_normal: ''
                background_color: (0.0, 0.55, 0.8, 1)
                on_release: root.adicionar_digito(0)
            Button:
                text: "<<<"
                font_size: "32sp"
                background_normal: ""
                background_color: (0.95, 0.75, 0.25, 1)
                on_release: root.apagar_digito()
        GridLayout:
            cols: 2
            spacing: dp(4)
            size_hint_y: None
            height: dp(50)
            Button:
                text: "CANCELAR"
                background_color: 1, 0, 0, 1
                on_release: root.manager.current = 'gerar_servico'
            Button:
                text: "CONFIRMAR"
                background_color: 0, 1, 0, 1
                on_release: root.salvar_valor()

<TelaServicos>:
    name: "tela_servicos"
    MDBoxLayout:
        orientation: "vertical"
        MDTopAppBar:
            title: "SERVI√áOS ATIVOS"
            left_action_items: [["arrow-left", lambda x: setattr(app.root, "current", "tela_inicio")]]
        ScrollView:
            MDList:
                id: lista_servicos